#!/usr/bin/env ruby

# Flush DNS on macOS
if Gem::Platform.local.os == "darwin"
  version = Gem::Version.new(Gem::Platform.local.version)

  if version >= Gem::Version.new(21) # macOS 12
    `sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder`
    puts "ðŸš½"
  else
    abort "ðŸ˜¢ Sorry"
  end
else
  abort "ðŸ˜› macOS only"
end
